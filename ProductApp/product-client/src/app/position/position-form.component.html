<div class="position-form">
  <div class="form-header">
    <h2>{{ isEditing ? 'Редактировать должность' : 'Создать должность' }}</h2>
  </div>

  <div class="form-content">
    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>

    <div *ngIf="successMessage" class="success-message">
      {{ successMessage }}
    </div>

    <form (ngSubmit)="onSubmit()" class="form">
      <div class="form-group">
        <label for="name">Название должности *</label>
        <input
          id="name"
          [(ngModel)]="form.name"
          type="text"
          name="name"
          placeholder="Например: Разработчик"
          required
        />
      </div>

      <div class="form-group">
        <label for="description">Описание</label>
        <textarea
          id="description"
          [(ngModel)]="form.description"
          name="description"
          placeholder="Описание должности"
          rows="3"
        ></textarea>
      </div>

      <div class="form-group">
        <label for="department">Отдел *</label>
        <input
          id="department"
          [(ngModel)]="form.department"
          type="text"
          name="department"
          placeholder="Например: IT"
          required
        />
      </div>

      <div class="form-group">
        <label for="salary">Зарплата</label>
        <input
          id="salary"
          [(ngModel)]="form.salary"
          type="number"
          name="salary"
          placeholder="0"
          min="0"
        />
      </div>

      <div class="form-group">
        <label class="checkbox-label">
          <input
            [(ngModel)]="form.isActive"
            type="checkbox"
            name="isActive"
          />
          Активная должность
        </label>
      </div>

      <div class="form-group">
        <label>Права доступа</label>
        <div class="permissions-grid">
          <div
            *ngFor="let permission of availablePermissions"
            class="permission-item"
            (click)="onPermissionToggle(permission)"
          >
            <input
              type="checkbox"
              [checked]="form.permissions.includes(permission)"
              readonly
            />
            <span>{{ permission }}</span>
          </div>
        </div>
      </div>

      <div class="form-actions">
        <button type="submit" class="btn btn-primary">
          {{ isEditing ? 'Сохранить' : 'Создать' }}
        </button>
        <button
          type="button"
          (click)="onCancel()"
          class="btn btn-secondary"
        >
          Отмена
        </button>
      </div>
    </form>
  </div>
</div>
